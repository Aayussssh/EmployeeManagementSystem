@page "{id:int}"
@model EmployeeManagementSystem.Pages.Employees.ViewDocumentModel
@{
    ViewData["Title"] = "View Document";
}

<h2>View Document</h2>

@if (!string.IsNullOrEmpty(Model.DocumentPath))
{
    var fileExtension = System.IO.Path.GetExtension(Model.DocumentPath).ToLower();

    if (fileExtension == ".jpg" || fileExtension == ".jpeg" || fileExtension == ".png")
    {
        <img src="@Model.DocumentPath" alt="Document" style="max-width:600px;" />
    }
    else if (fileExtension == ".pdf")
    {
        <iframe src="@Model.DocumentPath" width="100%" height="600px"></iframe>
    }
    else
    {
        <script>
            window.location.href = '@Model.DocumentPath';
        </script>
        <p>If the download doesn't start automatically, <a href="@Model.DocumentPath" download>click here to download the document</a>.</p>
    }
}
else
{
    <p>No document available for this employee.</p>
}
